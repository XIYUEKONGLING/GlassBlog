---
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';
import { SITE_DESCRIPTION, SITE_TITLE } from '../consts';
import Panel from "../components/Panel.astro";
import Sidebar from "../components/Sidebar.astro";
import { getEntry, render } from 'astro:content';

const entry = await getEntry('spec', 'home');

if (!entry) {
	throw new Error('Could not find src/content/spec/home.md. Please ensure the file exists.');
}

const { Content } = await render(entry);
---

<!DOCTYPE HTML>
<html lang="en">
<head>
	<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
</head>
<body class="flex flex-col min-h-screen">
<Header />

<div class="w-full px-4 mt-16 grow">
	<div class="mx-auto max-w-[95%] md:max-w-[80%]">
		<div class="flex flex-col-reverse lg:flex-row gap-8">

			<!-- Left Sidebar -->
			<div class="lg:w-1/4">
				<Sidebar />
			</div>

			<!-- Right Content -->
			<div class="lg:w-3/4">
				<Panel>
					<main class="prose dark:prose-invert max-w-none">
						<h1>{entry.data.title}</h1>
						<Content />
					</main>
				</Panel>
			</div>
		</div>
	</div>
</div>
<Footer />
</body>
</html>
